(this["webpackJsonpsimple-music-player"]=this["webpackJsonpsimple-music-player"]||[]).push([[0],{15:function(e,t,i){e.exports={musicList:"MusicList_musicList___Pn-j",controller:"MusicList_controller__3vmgk","controller-append":"MusicList_controller-append__1bExz","musiclist-wrapper":"MusicList_musiclist-wrapper__2NZ7-","roop-Controller":"MusicList_roop-Controller__3DxJT"}},20:function(e,t,i){e.exports={"hamburger-btn":"HamburgerBtn_hamburger-btn__2L2cm",hamburger:"HamburgerBtn_hamburger__3Z5yt","hamburger--active":"HamburgerBtn_hamburger--active__1WZM6"}},23:function(e,t,i){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__1sjWi",spinner:"Spinner_spinner__3jVAw",rotate:"Spinner_rotate__1hbt0"}},29:function(e,t,i){},30:function(e,t,i){},37:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),r=i(11),c=i.n(r),a=(i(29),i(3)),o=(i(30),i(23)),u=i.n(o),l=i(1);var d,p=function(){return Object(l.jsxs)("div",{className:u.a.spinnerWrapper,children:[Object(l.jsx)("div",{className:u.a.spinner,children:Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 0 24 24",width:"40px",fill:"#000000",children:[" ",Object(l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"})," ",Object(l.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})," "]})}),Object(l.jsx)("div",{children:" \ubd88\ub7ec\uc624\ub294 \uc911..."})]})},h=i(5),f=i.n(h),b=i(8),j=i(10),g=i(2),w=i(7),y=i(4);!function(e){e.Music="Music",e.Query="Query"}(d||(d={}));var v={idx:-1,id:"",key:"",title:"",query:"",type:d.Music},x="My playlist",m="curPlayListName",O="PAUSED",M="PLAYING",k=Object(w.b)({key:"musicPlayState",default:O}),_=Object(w.b)({key:"musicListState",default:[]}),I=Object(w.b)({key:"curMusicIndexState",default:v.idx}),L=Object(w.c)({key:"curMusicInfoState",get:function(e){var t=e.get,i=t(_),n=t(I);return n===v.idx||0===i.length?v:Object(y.a)({idx:n},i[n])},set:function(e,t){var i=e.set,n=Object(a.a)(t,2),s=n[0],r=n[1];(0===s||s)&&i(I,s),r&&i(_,r)}}),q=i(6),N=i(9),S=function(){function e(){Object(q.a)(this,e),this._storage=void 0,this._storage_cnt=void 0,this._storage=new Map,this._storage_cnt=new Map,this.store=this.store.bind(this),this.delete=this.delete.bind(this),this.set=this.set.bind(this),this.get=this.get.bind(this)}return Object(N.a)(e,[{key:"get",value:function(e,t){if(!e)throw new Error("store state error : invalid key");t&&(e=t+"_"+e);var i=this._storage.get(e);if(i)return i;var n=localStorage.getItem(e);if(n){var s=JSON.parse(n);return 0===s||s?(this._storage.set(e,s),s):void 0}}},{key:"set",value:function(e,t,i){if(!e)throw new Error("store state error : invalid key");i&&(e=i+"_"+e),this._storage.set(e,t),localStorage.setItem(e,JSON.stringify(t)),this._storage_cnt.get(e)||this._storage_cnt.set(e,1)}},{key:"store",value:function(e,t){if(!e)throw new Error("store state error : invalid key");t&&(e=t+"_"+e);var i=this._storage_cnt.get(e);this._storage_cnt.set(e,i?i+1:1)}},{key:"delete",value:function(e,t){if(!e)throw new Error("store state error : invalid key");t&&(e=t+"_"+e);var i=this._storage_cnt.get(e);i>1?this._storage_cnt.set(e,i-1):1===i&&(this._storage_cnt.delete(e),this._storage.delete(e),localStorage.removeItem(e))}}]),e}();function C(){var e=Object(n.useState)([x]),t=Object(a.a)(e,2),i=t[0],s=t[1],r=Object(w.d)(L),c=Object(a.a)(r,2),o=(c[0],c[1]),u=Object(n.useRef)();Object(n.useEffect)((function(){window.storeManager||(window.storeManager=new S);var e=window.storeManager.get("playlists");if(e)s(e);else{var t=[{q:"Intro",id:"BB_VsXyF02I",key:"1627115093539_0",type:"music"},{q:"Rest",id:"2oYi6SQh0xg",key:"1627115093539_1",type:"music"},{q:"Popo (How deep is our love?)",id:"7E74fH0Xoew",key:"1627115093539_2",type:"music"},{q:"can i b u",id:"oQl94R46egM",key:"1627115093539_3",type:"music"},{q:"Meant to be",id:"cpTsEh_C7y8",key:"1627115093539_4",type:"music"},{q:"Mr.gloomy",id:"STr6nl1UWYg",key:"1627115093539_5",type:"music"},{q:"lovelovelove",id:"zlir7mX0aT8",key:"1627115093539_6",type:"music"},{q:"Bunny",id:"Ex0nQ-G8gH0",key:"1627115093539_7",type:"music"},{q:"0310",id:"lgjudfWgB24",key:"1627115093539_8",type:"music"},{q:"Berlin",id:"IhBDPalO4Fw",key:"1627115093539_9",type:"music"},{q:"Datoom",id:"cchTWN7lBTI",key:"1627115093539_10",type:"music"},{q:"Not a girl",id:"f3EACyOVN5c",key:"1627115093539_11",type:"music"},{q:"Newsong2",id:"93g5MbQ1sYo",key:"1627115093539_12",type:"music"},{q:"Amy",id:"4qn2p8GTebo",key:"1627115093539_13",type:"music"},{q:"True lover",id:"jgOsBz6L8oI",key:"1627115093539_14",type:"music"},{q:"Point",id:"Bl0W6ofoO-I",key:"1627115093539_15",type:"music"},{q:"Square (2017)",id:"_ZkUb7iIOqQ",key:"1627115093539_16",type:"music"},{q:"London",id:"nOl0E7L2Qz8",key:"1627115093539_17",type:"music"}];window.storeManager.set(x,t,"list"),window.storeManager.set(x,t.length?0:v.id,"idx"),window.storeManager.set("playlists",i)}}),[]);var d=function(e){var t=window.storeManager.get(e,"list"),i=window.storeManager.get(e,"idx");o([i,t]),window.storeManager.set(m,e)},p=function(e,t){if(e&&t&&"length"in t){var n,r=Object(g.a)(i);try{for(r.s();!(n=r.n()).done;){if(n.value===e){e=e+"_"+Date.now();break}}}catch(a){r.e(a)}finally{r.f()}var c=[].concat(Object(j.a)(i),[e]);window.storeManager.set(e,t,"list"),window.storeManager.set(e,t.length?0:v.id,"idx"),window.storeManager.set("playlists",c),s(c),u.current.value=""}},h=function(){var e=Object(b.a)(f.a.mark((function e(){var t,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:"{"===(t=e.sent)[0]&&"}"===t[t.length-1]&&(i=JSON.parse(t),p(i.name,i.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("ul",{children:["\uc7ac\uc0dd\ubaa9\ub85d",Object(l.jsx)("br",{}),Object(l.jsx)("input",{ref:u,type:"text"}),Object(l.jsx)("button",{onClick:function(){var e=u.current.value;e&&p(e,[])},children:"\ucd94\uac00"}),Object(l.jsx)("button",{onClick:h,children:"\ubd99\uc5ec\ub123\uae30"}),i.map((function(e,t){return Object(l.jsxs)("li",{onClick:function(){d(e)},children:[e,e!==x&&Object(l.jsx)("button",{onClick:function(t){!function(e,t){if(e.stopPropagation(),window.confirm("\uc0ad\uc81c - ".concat(t," \uc815\ub9d0\ub85c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))){var n=window.storeManager.get(t,"list");window.storeManager.delete(t,"list"),window.storeManager.delete(t,"idx");for(var r=0;r<n.length;r++)"query"===n[r].type&&window.storeManager.delete(n[r].q,"query");for(var c=i.slice(),a=0;a<i.length;a++)if(i[a]===t){c.splice(a,1);break}s(c),window.storeManager.set("playlists",c),t===window.storeManager.get(m)&&d(x)}}(t,e)},children:"X"}),Object(l.jsx)("button",{onClick:function(t){!function(e,t){e.stopPropagation();var i={name:t,data:window.storeManager.get(t,"list")};navigator.clipboard.writeText(JSON.stringify(i)).then((function(){alert("\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ubd99\uc5ec\ub123\uae30 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec \uc7ac\uc0dd\ubaa9\ub85d\uc744 \ucd94\uac00\ud558\uc138\uc694.")}))}(t,e)},children:"copy"})]},e)}))]})}var P=i(14);function E(e){var t=0;if(e){var i=Date.now();return new Array(e).fill(null).map((function(e,n){return i+"_"+t++}))}return Date.now()+"_"+t++}var T=function e(t,i,n,s){Object(q.a)(this,e),this.videoId=void 0,this.title=void 0,this.description=void 0,this.thumbnail=void 0,this.type=void 0,this.videoId=t,this.title=i,this.description=n,this.thumbnail="https://i.ytimg.com/vi/".concat(this.videoId,"/default.jpg"),this.type=s};function B(e,t){return new T("list"===t?e.snippet.resourceId.videoId:"music"===t?e.id:e.id.videoId,e.snippet.title,e.snippet.description,t)}function V(e,t,i){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(f.a.mark((function e(t,i,n){var s,r,c,a,o,u,l,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"list"===i?(s={key:localStorage.getItem("youtubeKey"),part:"snippet",playlistId:t,maxResults:50,fields:"nextPageToken,pageInfo,items(snippet(title,description,resourceId))"},n&&(s.pageToken=n)):s="music"===i?{key:localStorage.getItem("youtubeKey"),part:"snippet",id:t,fields:"items(id,snippet(title,description))"}:{key:localStorage.getItem("youtubeKey"),part:"snippet",maxResults:5,type:"video",topic:"/m/04rlf",q:"".concat(t," audio"),fields:"items(id,snippet(title,description))"},r=Object.keys(s).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])})).join("&"),c=function(e,t){return"https://www.googleapis.com/youtube/v3/".concat("list"===e?"playlistItems":"music"===e?"videos":"search","?").concat(t)},e.next=5,fetch(c(i,r),{method:"GET"});case 5:if(200!==(a=e.sent).status){e.next=22;break}return e.next=9,a.json();case 9:o=e.sent,u=[],l=Object(g.a)(o.items);try{for(l.s();!(d=l.n()).done;)p=d.value,u.push(B(p,i))}catch(h){l.e(h)}finally{l.f()}if("list"!==i||!o.nextPageToken){e.next=19;break}return e.t0=u,e.next=17,V(t,i,o.nextPageToken);case 17:e.t1=e.sent,u=e.t0.concat.call(e.t0,e.t1);case 19:return e.abrupt("return",u);case 22:alert("\uc798\ubabb\ub41c \ud0a4\uc774\uac70\ub098 \ud574\ub2f9\ud0a4\uc758 api \ud560\ub2f9\ub7c9\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.");case 23:throw new Error("request fail");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){window.storeManager||(window.storeManager=new S);var t=window.storeManager.get(e,"list");if(0!==t.length){var i,n=Object(g.a)(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;window.storeManager.store(s.q,"query")}}catch(r){n.e(r)}finally{n.f()}}}function z(e,t){var i=Object(w.d)(L),s=Object(a.a)(i,2),r=s[0],c=s[1],o=Object(n.useRef)(v);Object(n.useEffect)((function(){var e,t=function(){window.storeManager||(window.storeManager=new S);var e=window.storeManager.get("playlists");e||(e=[x],window.storeManager.set("playlists",e));var t,i=Object(g.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,s=window.storeManager.get(n,"list");s||(s=[],window.storeManager.set(n,s,"list"))}}catch(r){i.e(r)}finally{i.f()}return e}(),i=Object(g.a)(t);try{for(i.s();!(e=i.n()).done;){H(e.value)}}catch(n){i.e(n)}finally{i.f()}!function(e){window.storeManager||(window.storeManager=new S);var t=window.storeManager.get(m);t||(t=x,window.storeManager.set(m,t));var i=window.storeManager.get(t,"idx"),n=window.storeManager.get(t,"list");0===i||i||(i=v.idx,window.storeManager.set(t,i,"idx")),n||(n=[],window.storeManager.set(t,n,"list")),e([i,n])}(c)}),[c]),Object(n.useEffect)((function(){if(r.key){var i=r.key===o.current.key,n=o.current.id===v.id&&r.id!==v.id,s=o.current.id===r.id;if(!i||!n&&!s){var c=window.storeManager.get(m);if(window.storeManager.set(c,r.idx,"idx"),r.key===v.key)t();else{var a=r;if(!r.id){var u=window.storeManager.get(r.q,"query");u&&(a=Object(y.a)(Object(y.a)({},a),{},{id:u[0].videoId}))}e(a)}o.current=r}}}),[r])}var Q=function(){function e(t,i){Object(q.a)(this,e),this.musicList=t[0],this.setMusicList=t[1],this.curMusicIndex=i[0],this.setCurMusicIndex=i[1],window.storeManager||(window.storeManager=new S);var n=window.storeManager.get(m);this.curPlayListName=n||x,this.goNextMusic=this.goNextMusic.bind(this),this.goPrevMusic=this.goPrevMusic.bind(this),this.reorderMusicList=this.reorderMusicList.bind(this),this.deleteMusic=this.deleteMusic.bind(this),this.appendMusicList=this.appendMusicList.bind(this),this.appendPlaylist=this.appendPlaylist.bind(this),this.appendMusic=this.appendMusic.bind(this),this.appendQueryList=this.appendQueryList.bind(this),this.modMusicList=this.modMusicList.bind(this),this.initMusicInfo=this.initMusicInfo.bind(this),this.updateMusicList=this.updateMusicList.bind(this),this.selectMusic=this.selectMusic.bind(this)}return Object(N.a)(e,[{key:"goNextMusic",value:function(){this.curMusicIndex+1<this.musicList.length&&this.setCurMusicIndex(this.curMusicIndex+1)}},{key:"goPrevMusic",value:function(){this.curMusicIndex-1>=0&&this.setCurMusicIndex(this.curMusicIndex-1)}},{key:"reorderMusicList",value:function(e,t){if(t!==e){var i=Array.from(this.musicList),n=i.splice(e,1),s=Object(a.a)(n,1)[0];i.splice(t,0,s),this.updateMusicList(i);var r=this.curMusicIndex===e,c=this.curMusicIndex>e&&this.curMusicIndex<=t,o=this.curMusicIndex<e&&this.curMusicIndex>=t;r?this.selectMusic(t):c?this.goPrevMusic():o&&this.goNextMusic()}}},{key:"deleteMusic",value:function(e){var t=Object(y.a)(Object(y.a)({},this.musicList[e]),{},{idx:e}),i=1===this.musicList.length;if(window.storeManager.delete(t.q,"query"),i)return this.updateMusicList([]),void this.setCurMusicIndex(v.idx);var n=t.idx===this.musicList.length-1,s=this.curMusicIndex>t.idx,r=this.curMusicIndex===t.idx,c=this.musicList.filter((function(e,i){return i!==t.idx}));this.updateMusicList(c),(r&&n||s)&&this.setCurMusicIndex(this.curMusicIndex-1)}},{key:"appendMusicList",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var i,n,s,r,c,a,o,u,l,d,p,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this.musicList.length,t=t.filter((function(e){return""!==e})),n=[],s=0,r=0,c=0;c<t.length;c++)if("http"===t[c].substr(0,4)){for(r>0&&n.push({type:"query",start:s,end:r}),a={},o=t[c].substring(t[c].indexOf("?")+1).split("&"),u=0;u<o.length;u++)o[u]=o[u].split("="),a[o[u][0]]=o[u][1];a.list?n.push({type:"list",id:a.list}):a.v&&n.push({type:"music",id:a.v}),s=c+1}else r=c+1;s<=r&&n.push({type:"query",start:s,end:r}),l=[],d=0,p=n;case 9:if(!(d<p.length)){e.next=37;break}if("list"!==(h=p[d]).type){e.next=22;break}return e.t0=l.push,e.t1=l,e.t2=j.a,e.next=17,this.appendPlaylist(h.id);case 17:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=34;break;case 22:if("music"!==h.type){e.next=33;break}return e.t5=l.push,e.t6=l,e.t7=j.a,e.next=28,this.appendMusic(h.id);case 28:e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.t5.apply.call(e.t5,e.t6,e.t9),e.next=34;break;case 33:"query"===h.type&&l.push.apply(l,Object(j.a)(this.appendQueryList(t.slice(h.start,h.end))));case 34:d++,e.next=9;break;case 37:this.updateMusicList([].concat(Object(j.a)(this.musicList),l)),this.curMusicIndex===v.idx&&this.setCurMusicIndex(i);case 39:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"appendMusic",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var i,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t,"music");case 3:return i=e.sent,n=E(i.length),e.abrupt("return",i.map((function(e,t){return{q:e.title,id:e.videoId,key:n[t],type:"music"}})));case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"appendPlaylist",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var i,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t,"list");case 3:return i=e.sent,n=E(i.length),e.abrupt("return",i.map((function(e,t){return{q:e.title,id:e.videoId,key:n[t],type:"music"}})));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"appendQueryList",value:function(e){if(!((e=e.filter((function(e){return""!==e}))).length<1)){var t,i=E(e.length),n=e.map((function(e,t){return{q:e,id:null,key:i[t],type:"query"}})),s=Object(g.a)(n);try{for(s.s();!(t=s.n()).done;){var r=t.value;window.storeManager.store(r.q,"query")}}catch(c){s.e(c)}finally{s.f()}return n}}},{key:"updateMusicList",value:function(e){this.setMusicList(e),window.storeManager.set(this.curPlayListName,e,"list")}},{key:"modMusicList",value:function(e,t){var i=Object(y.a)(Object(y.a)({},this.musicList[e]),{},{id:t.videoId}),n=this.musicList.map((function(t,n){return e===n?i:t}));this.updateMusicList(n)}},{key:"initMusicInfo",value:function(e,t,i,n){n||(n=0),this.modMusicList(e,i[n]),window.storeManager.set(t,i,"query")}},{key:"selectMusic",value:function(e){this.setCurMusicIndex(e)}}]),e}();function D(e){var t=e.query,i=e.selectQuery,s=e.curItemId,r=(e.hide,Object(n.useState)(null)),c=Object(a.a)(r,2),o=c[0],u=c[1],d=Object(n.useState)(0),p=Object(a.a)(d,2),h=p[0],j=p[1];Object(n.useEffect)((function(){if(!o){var e=window.storeManager.get(t,"query");e?u(e):function(e){i.apply(this,arguments)}(t)}function i(){return(i=Object(b.a)(f.a.mark((function e(t){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:i=e.sent,window.storeManager.set(t,i,"query"),u(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}),[]),Object(n.useEffect)((function(){for(var e in o)if(o[e].videoId===s){j(parseInt(e));break}}),[o,s]);return Object(l.jsx)(l.Fragment,{children:o&&Object(l.jsx)("ul",{children:o.map((function(e,t){return Object(l.jsxs)("li",{onClick:function(e){return function(e,t){e.stopPropagation(),i(o[t])}(e,t)},style:h===t?{color:"blue"}:{},children:[Object(l.jsx)("img",{src:e.thumbnail,alt:e.title}),e.title]},e.videoId)}))})})}function Y(e){var t=Object(n.useState)(!1),i=Object(a.a)(t,2),s=i[0],r=i[1];return Object(l.jsxs)("div",{children:[e.ele.q," ",Object(l.jsx)("button",{onClick:function(t){return function(t,i){t.stopPropagation(),t.preventDefault(),e.deleteMusic(i)}(t,e.index)},children:" X "}),"query"===e.ele.type&&Object(l.jsx)("button",{onClick:function(e){e.stopPropagation(),r(!s)},children:"\ud3bc\uce58\uae30 "}),s&&"query"===e.ele.type&&Object(l.jsx)(D,{query:e.ele.q,selectQuery:function(t){e.modMusicList(e.index,t)},curItemId:e.ele.id})]})}var A=Object(n.memo)((function(e){return Object(l.jsx)(P.b,{draggableId:e.ele.key,index:e.index,children:function(t,i){return Object(l.jsx)("li",Object(y.a)(Object(y.a)(Object(y.a)({ref:t.innerRef,className:"musicListElement"},t.draggableProps),t.dragHandleProps),{},{onClick:function(t){return function(t,i){t.stopPropagation(),e.selectMusic(i)}(t,e.index)},children:Object(l.jsx)("div",{style:e.isCurMusic?{border:"1px solid black"}:{},children:Object(l.jsx)(Y,{ele:e.ele,index:e.index,deleteMusic:e.deleteMusic,modMusicList:e.modMusicList})})}))}})})),W=i(15),J=i.n(W);function U(e){var t=Object(n.useState)(""),i=Object(a.a)(t,2),s=i[0],r=i[1],c=Object(w.d)(_),o=c[0],u=Object(w.d)(I),d=u[0],p=Object(n.useRef)(),h=Object(w.e)(k),j=Object(n.useState)(!1),g=Object(a.a)(j,2),y=g[0],v=g[1],x=new Q(c,u);z((function(e){window.player&&(e.id?window.player.loadVideoById({videoId:e.id}):V(e.q).then((function(t){window.player.loadVideoById({videoId:t[0].videoId}),x.initMusicInfo(e.idx,e.q,t,0)})).catch((function(e){console.error(e)})))}),(function(){window.player&&window.player.stopVideo&&window.player.stopVideo()})),Object(n.useEffect)((function(){var e=window.pageYOffset+p.current.getBoundingClientRect().top,t=window.innerHeight-Math.ceil(e);p.current.style.height="".concat(t,"px")}),[]),Object(n.useEffect)((function(){if(d>=0){var e=parseInt(p.current.style.height)/3;if(!p.current.getElementsByClassName("musicListElement")[d])return;p.current.scrollTop=-e+p.current.getElementsByClassName("musicListElement")[d].offsetTop-p.current.offsetTop}}),[d]),Object(n.useEffect)((function(){e.goNextRef.current=function(){window.player&&(y?window.player.seekTo(0):x.goNextMusic())}}),[e.goNextRef,x,y]);var m=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s){e.next=2;break}return e.abrupt("return");case 2:if(!((t=s.split("\n").filter((function(e){return""!==e}))).length<1)){e.next=5;break}return e.abrupt("return");case 5:return r(""),e.next=8,x.appendMusicList(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){x.deleteMusic(e)};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:J.a.controller,children:[Object(l.jsxs)("div",{className:J.a["controller-append"],children:[Object(l.jsx)("textarea",{cols:30,rows:5,value:s,onChange:function(e){r(e.target.value)},placeholder:"\uc74c\uc545\uba85 ex) next level aespa\n\ud639\uc740 \uc720\ud29c\ube0c\ub9c1\ud06c \ubcf5\ubd99"}),Object(l.jsx)("button",{onClick:m,children:"\ucd94\uac00"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:x.goPrevMusic,children:Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none",opacity:".87"}),Object(l.jsx)("path",{d:"M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"})]})}),Object(l.jsx)("button",{onClick:function(){window.player&&(h===M?window.player.pauseVideo():window.player.playVideo())},children:h===M?Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(l.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}):Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(l.jsx)("path",{d:"M10 8.64L15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"})]})}),Object(l.jsxs)("button",{onClick:x.goNextMusic,children:[Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M0,0h24v24H0V0z",fill:"none"})}),Object(l.jsx)("g",{children:Object(l.jsx)("polygon",{points:"6.23,20.23 8,22 18,12 8,2 6.23,3.77 14.46,12"})})]})," "]})]}),Object(l.jsxs)("div",{className:J.a["roop-controller"],children:[Object(l.jsx)("label",{children:"\ubc18\ubcf5\uc7ac\uc0dd"}),Object(l.jsx)("input",{type:"checkbox",onChange:function(e){v(!!e.target.checked)}})]})]}),Object(l.jsx)("div",{className:J.a["musiclist-wrapper"],ref:p,children:Object(l.jsx)(P.a,{onDragEnd:function(e){e.destination&&x.reorderMusicList(e.source.index,e.destination.index)},onDragStart:function(e){},children:Object(l.jsx)(P.c,{droppableId:"droppable",children:function(e,t){return Object(l.jsxs)("ul",{ref:e.innerRef,children:[o.map((function(e,t){return Object(l.jsx)(A,{ele:e,index:t,selectMusic:x.selectMusic,deleteMusic:O,modMusicList:x.modMusicList,isCurMusic:d==t},e.key)})),e.placeholder]})}})})})]})}var G=Object(n.memo)(U),K=i(20),X=i.n(K);var Z=function(e){var t=Object(n.useState)(e.initialValue),i=Object(a.a)(t,2),s=i[0],r=i[1];return Object(l.jsx)("div",{className:X.a["hamburger-btn"],onClick:function(t){var i=!s;r(i),e.clickHandler(t,i)},children:Object(l.jsx)("div",{className:X.a.hamburger+" "+(s?X.a["hamburger--active"]:"")})})};var F=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),i=t[0],s=t[1],r=Object(n.useState)(""),c=Object(a.a)(r,2),o=c[0],u=c[1],d=Object(n.useState)(!1),h=Object(a.a)(d,2),f=h[0],b=h[1],j=Object(w.f)(k),g=Object(n.useRef)();return Object(n.useEffect)((function(){if(u(localStorage.youtubeKey),!window.YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.player=null;var i=Math.min(640,window.innerWidth);window.onYouTubeIframeAPIReady=function(){window.player=new window.YT.Player("player",{width:i,height:Math.round(10*i/16),playerVars:{playsinline:1,autoplay:1},events:{onStateChange:function(e){e.data===window.YT.PlayerState.ENDED?g.current():e.data===window.YT.PlayerState.PLAYING?j(M):e.data===window.YT.PlayerState.PAUSED&&j(O)},onReady:function(){return s(!0)}}})}}}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("header",{children:[Object(l.jsxs)("div",{className:"nav-btn",children:[Object(l.jsx)("div",{className:"title",children:"SimpleMusicPlayer"}),Object(l.jsx)(Z,{initialValue:f,clickHandler:function(e,t){b(t)}})]}),Object(l.jsxs)("nav",{className:"navigation "+(f?"":"navigation--hide"),children:[Object(l.jsx)("label",{children:"\uc720\ud29c\ube0c api \ud0a4"}),Object(l.jsx)("input",{type:"text",onChange:function(e){u(e.target.value),localStorage.setItem("youtubeKey",e.target.value)},value:o}),Object(l.jsx)(C,{children:" "})]})]}),Object(l.jsx)("div",{className:"playerwrapper",id:"player"}),!i&&Object(l.jsx)(p,{}),i&&Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"musiclist-wrapper",children:Object(l.jsx)(G,{goNextRef:g})})})]})};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(w.a,{children:Object(l.jsx)(F,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.ab3d3365.chunk.js.map