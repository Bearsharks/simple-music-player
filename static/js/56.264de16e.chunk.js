"use strict";(self.webpackChunksimple_music_player=self.webpackChunksimple_music_player||[]).push([[56],{4790:function(e,n,t){t.d(n,{Z:function(){return i}});var r="MoreVert_more-vert__sCwPX",a=t(6417);var i=function(e){var n=e.onClick,t=e.size,i=void 0===t?28:t;return(0,a.jsx)("div",{onClick:n,className:r,children:(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"material-icons",style:{fontSize:"".concat(i,"px")},children:"more_vert"})})})}},8209:function(e,n,t){t.d(n,{Z:function(){return u}});var r="PlaylistItem_playlist-info__hR3zV",a="PlaylistItem_playlist-info--secondary__5-Qbu",i="PlaylistItem_thumbnail__Q3ZX7",s="PlaylistItem_thumbnail__overlay__5FXSL",o=t(8560),c=t(6417);var u=function(e){var n=e.info,t=e.children,u=e.onClick;return(0,c.jsxs)("div",{title:n.description,children:[(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)(o.Z,{thumbnails:n.thumbnails,name:n.name}),(0,c.jsx)("div",{className:s,onClick:function(){return u(n.id)}}),t]}),(0,c.jsx)("div",{className:r,onClick:function(){return u(n.id)},title:n.name,children:n.name}),n.itemCount>=0&&(0,c.jsxs)("div",{className:a,children:["\ub178\ub798 ",n.itemCount," \uace1"]})]})}},8560:function(e,n,t){t.d(n,{Z:function(){return o}});var r="Thumbnail_wrapper__NSRBe",a="Thumbnail_img__bLlNu",i="Thumbnail_img-wrap__3iVfi",s=t(6417);var o=function(e){var n=e.thumbnails,t=e.name;return n=function(){if(0===n.length)return[];var e=n;if(1===e.length)return e;for(2===e.length&&(e=[e[0],e[0],e[1],e[1]]);e.length<4;)e=e.concat(e);return e.slice(0,4)}(),(0,s.jsxs)("div",{title:t,className:r,children:[(0,s.jsx)("img",{style:{width:"100%",height:"100%"},alt:"",src:"https://lh3.googleusercontent.com/wr28amLh-pMk4vmrYv_Orhly8DTtdvZJFuLwmXG5RNvZJjGlFe_WMnKp4pWlZI1gL7ihQn-xZuzZ0A6VZZbv2Z-iTEH3dpjn=s576"}),n.length?(0,s.jsx)("div",{className:i,children:n.map((function(e,t){return(0,s.jsx)("img",{className:a,src:e,alt:"",style:1===n.length?{width:"100%",height:"100%"}:{}},t)}))}):""]})}},2426:function(e,n,t){t.d(n,{f:function(){return w},Z:function(){return b}});var r=t(1413),a=t(7313),i="MusicList_music-list__OZ3If",s="MusicList_drag_handle__9NVOm",o="MusicList_grid-item__text__digoN",c="MusicList_grid-item__text--light__frDG7",u="MusicList_wrapper__kxsGg",l="MusicList_wrapper--selected__zQjOr",p="MusicList_grid-container__DBrzu",d="MusicList_overlay__mMFWs",f="MusicList_grid-item__eMHQZ",m="MusicList_grid-item--fit__-Ku8U",_="MusicList_overlay--show__BqtKZ",v="MusicList_thumbnail__W-ddK",y=t(1578),h=t(62),x=t(6471),g=t(4790),P=t(6417);function k(e){return(0,P.jsx)("div",{className:i,children:(0,P.jsx)(y.Z5,{onDragEnd:function(n){n.destination&&n.source.index!==n.destination.index&&e.changeOrder(n.source.index,n.destination.index)},onDragStart:function(){},children:(0,P.jsx)(y.bK,{droppableId:"droppable",children:function(n,t){return(0,P.jsx)(j,{provided:n,items:e.items,openOptionsPopup:e.openOptionsPopup,playMusic:e.playMusic})}})})})}var b=(0,a.memo)(k);function j(e){var n=e.provided,t=e.items,a=e.playMusic,i=e.openOptionsPopup,o=(0,h.sJ)(x.LW);return(0,P.jsxs)("div",{ref:n.innerRef,children:[t.map((function(e,n){return(0,P.jsx)(y._l,{draggableId:e.key,index:n,children:function(t,c){return(0,P.jsxs)("div",(0,r.Z)((0,r.Z)({ref:t.innerRef},t.draggableProps),{},{className:"".concat(u," ").concat(o===n&&l),children:[(0,P.jsx)("div",(0,r.Z)((0,r.Z)({className:s},t.dragHandleProps),{},{children:(0,P.jsx)("span",{className:"material-icons md-28",children:"drag_handle"})})),(0,P.jsx)(w,{idx:n,item:e,playMusic:a,openOptionsPopup:i,isCurMusic:o===n})]}))}},e.key)})),n.placeholder]})}function w(e){var n=e.idx,t=e.item,r=e.playMusic,a=e.openOptionsPopup,i=e.isCurMusic;return(0,P.jsx)("div",{className:u,children:(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{className:"".concat(f," ").concat(m),onClick:function(){r(n)},children:[t.thumbnail?(0,P.jsx)("img",{className:v,alt:t.name,src:t.thumbnail}):(0,P.jsx)("div",{className:v,children:(0,P.jsx)("span",{className:"material-icons md-32",children:"question_mark"})}),(0,P.jsx)("div",{className:"".concat(d," ").concat(i&&_),children:(0,P.jsx)("span",{className:"material-icons md-32",children:"play_arrow"})})]}),(0,P.jsxs)("div",{className:f,onClick:function(){r(n)},children:[(0,P.jsx)("div",{className:o,title:t.name,children:t.name}),(0,P.jsx)("div",{className:"".concat(o," ").concat(c),title:t.owner,children:t.owner})]}),(0,P.jsx)(g.Z,{onClick:function(e){a(e.target,[t])}})]})})}},8056:function(e,n,t){t.r(n),t.d(n,{default:function(){return Zn}});var r="Main_header__HW+gY",a="Main_header__right-contents__VXLC1",i="Main_header__left-contents__MiESg",s="Main_main-contents__xLe1w",o=t(7313),c=t(7890),u=t(9439),l=t(1413),p=t(6417);function d(e){var n=e.wrapper,t=e.openState,r=e.onClickHandler,a=(0,u.Z)(t,2),i=(a[0],a[1]);return(0,o.useEffect)((function(){var e=function(e){n.current&&n.current.contains(e.target)||(r&&r(e),i(!1))};return document.addEventListener("click",e),document.addEventListener("touchend",e),function(){document.removeEventListener("click",e),document.removeEventListener("touchend",e)}}),[i,n,r]),(0,p.jsx)(p.Fragment,{})}var f=function(e){var n=(0,u.Z)(e.openState,2),t=n[0];return n[1],t?(0,p.jsx)(d,(0,l.Z)({},e)):(0,p.jsx)(p.Fragment,{})},m="SearchBar_wrapper__k1CW1",_="SearchBar_wrapper--expand__xS7pR",v="SearchBar_close-btn__aN39N",y="SearchBar_search-panel__Lj-NL",h="SearchBar_text-wrapper__hIjCe",x="SearchBar_search-button__wp3Bj",g="SearchBar_search-button--expand__V69F8",P="SearchBar_expanded-menu__rttS7";var k=function(e){var n=(0,o.useRef)(null),t=(0,o.useState)(!!e.initialExpand&&e.initialExpand),r=(0,u.Z)(t,2),a=r[0],i=r[1];function s(){if(null!==n.current){var e=parseInt(n.current.style.height);if(e>200)return;var t=n.current.scrollHeight-4,r=t>44?t:44;e>200&&(r=200),n.current.style.height="".concat(r,"px")}}var c=(0,o.useRef)(null);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"".concat(x),onClick:function(){a||i(!0)},children:(0,p.jsx)("span",{className:"material-icons md-28",children:"search"})}),(0,p.jsx)("div",{ref:c,className:"".concat(m," ").concat(a&&_),children:(0,p.jsxs)("div",{className:y,children:[(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("textarea",{ref:n,onKeyDown:s,onKeyUp:s}),(0,p.jsx)("div",{className:v,onClick:function(){return i(!1)},children:(0,p.jsx)("span",{className:"material-icons md-38",children:"close"})})]}),(0,p.jsxs)("div",{className:"".concat(P),children:[(0,p.jsx)("div",{children:"ex)\ub178\ub798\uba85 - \uac00\uc218\uba85 / \uc720\ud29c\ube0c url(\uc7ac\uc0dd\ubaa9\ub85d, \ub3d9\uc601\uc0c1)"}),(0,p.jsx)("div",{className:"".concat(x," ").concat(g),onClick:function(t){null!==n.current&&n.current.value&&e.search(t,n.current)},children:(0,p.jsx)("span",{className:"material-icons md-28",children:"search"})})]}),(0,p.jsx)(f,{openState:[a,i],onClickHandler:function(){a&&i(!1)},wrapper:c})]})})]})},b=t(4311);var j=function(){var e=(0,b.A7)();return(0,p.jsx)(k,{search:function(n,t){e(n.target,t)}})},w=t(62),N="HamburgerBtn_hamburger-btn__GGJWj",E="HamburgerBtn_hamburger-wrapper__vnT6R",T="HamburgerBtn_hamburger__wgcLo",I="HamburgerBtn_hamburger--active__Zs4Ju";var S=function(e){return(0,p.jsx)("button",{className:N,"aria-label":"menu togle",onClick:function(n){n.stopPropagation();var t=!e.isActive;e.setActive(t),e.onClickHandler&&e.onClickHandler(n,t)},children:(0,p.jsx)("div",{className:E,children:(0,p.jsx)("div",{className:T+" "+(e.isActive?I:"")})})})},D=(0,w.cn)({key:"sideMenuOpen",default:!1});var L=function(e){var n=(0,w.FV)(D),t=(0,u.Z)(n,2),r=t[0],a=t[1];return(0,p.jsx)(S,(0,l.Z)((0,l.Z)({},e),{},{isActive:r,setActive:a}))},C={linkActive:"SideMenu_linkActive__ybWDN",navigation:"SideMenu_navigation__dtXVk","user-info":"SideMenu_user-info__8ppLL","user-info__img":"SideMenu_user-info__img__FqbkJ","navigation--active":"SideMenu_navigation--active__I4LFj","close-button":"SideMenu_close-button__e9AM5",wrapper:"SideMenu_wrapper__pGfsc",options:"SideMenu_options__z37Xm",options__text:"SideMenu_options__text__SK-b4"};var O=function(e){var n=e.children,t=e.isActive,r=e.setActive,a=(0,o.useRef)(null),i=(0,c.s0)();return(0,p.jsxs)("div",{ref:a,className:"".concat(C.navigation," ").concat(t&&C["navigation--active"]),children:[(0,p.jsxs)("div",{className:C["user-info"],children:[(0,p.jsx)("img",{className:C["user-info__img"],src:sessionStorage.getItem("userimg"),alt:sessionStorage.getItem("username")}),(0,p.jsx)("div",{children:sessionStorage.getItem("username")})]}),(0,p.jsxs)("div",{className:"".concat(C.wrapper),children:[(0,p.jsxs)("div",{className:C.options,onClick:function(e){e.stopPropagation();var n="".concat("https://asia-northeast3-simple-music-player-319201.cloudfunctions.net/main","/logout");fetch(n,{credentials:"include",cache:"no-cache"}).then((function(){sessionStorage.clear(),i("/login")})).catch((function(e){console.error(e)}))},children:[(0,p.jsx)("div",{className:C.options__icon,children:(0,p.jsx)("span",{className:"material-icons",children:"logout"})}),(0,p.jsx)("div",{className:C.options__text,children:"\ub85c\uadf8\uc544\uc6c3"})]}),n,(0,p.jsx)(f,{openState:[t,r],wrapper:a})]})]})};var Z,A=function(e){var n=e.children,t=(0,w.FV)(D),r=(0,u.Z)(t,2),a=r[0],i=r[1];return(0,p.jsx)(O,{children:n,isActive:a,setActive:i})},M=t(6793),R=t(7762),Y=t(5861),B=t(7757),H=t.n(B),U="Modal_overlay-backdrop__OKvWf",F="Modal_wrapper__lZ4oh",V="Modal_importYTBtn__zTlTR",G=t(2537),X=t(3433),K=t(8302);function q(e,n,t){var r,a;return n===Z.List?{videoID:e.snippet.resourceId.videoId,name:e.snippet.title,query:t,thumbnail:null!==(r=e.snippet.thumbnails.default)&&void 0!==r&&r.url?e.snippet.thumbnails.default.url:"",owner:e.snippet.videoOwnerChannelTitle}:n===Z.Music?{videoID:e.id,name:e.snippet.title,thumbnail:null!==(a=e.snippet.thumbnails.default)&&void 0!==a&&a.url?e.snippet.thumbnails.default.url:"",query:t,owner:e.snippet.channelTitle}:{videoID:e.id.videoId,name:e.snippet.title,query:t,thumbnail:e.snippet.thumbnails.default.url,owner:e.snippet.channelTitle}}!function(e){e[e.List=0]="List",e[e.Music=1]="Music",e[e.Search=2]="Search"}(Z||(Z={}));var W=function(){var e=(0,Y.Z)(H().mark((function e(n){var t,r,a,i,s,o,c;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.split("\n").filter((function(e){return""!==e}))).length<=0)){e.next=3;break}return e.abrupt("return",[]);case 3:r=[],a=0;case 5:if(!(a<t.length)){e.next=19;break}if("http"!==t[a].substring(0,4)){e.next=15;break}return i=ne(t[a]),s=i.id,o=i.kind,s||console.error("".concat(a,"\ubc88\uc9f8 \uac80\uc0c9\uc5b4 \uc798 \ubabb\ub41c url")),e.next=11,J(s,o);case 11:c=e.sent,r.push.apply(r,(0,X.Z)(c)),e.next=16;break;case 15:r.push({videoID:"",name:t[a],query:t[a],owner:"",thumbnail:""});case 16:a++,e.next=5;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function J(e,n,t){return z.apply(this,arguments)}function z(){return(z=(0,Y.Z)(H().mark((function e(n,t,r){var a,i,s,o,c,u,l,p;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t===Z.List?a={part:"snippet",playlistId:n,maxResults:50,fields:"nextPageToken,pageInfo,items(snippet(title,resourceId,thumbnails(default),videoOwnerChannelTitle))"}:t===Z.Music?a={part:"snippet",id:n,fields:"items(id,snippet(title,thumbnails(default),channelTitle))"}:t===Z.Search&&(a={part:"snippet",maxResults:5,type:"video",topic:"/m/04rlf",q:"".concat(n," audio"),fields:"items(id,snippet(title,thumbnails(default),channelTitle))"}),i=Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&"),s=function(e,n){var t=e===Z.List?"playlistItems":e===Z.Music?"videos":"search";return"https://www.googleapis.com/youtube/v3/".concat(t,"?").concat(n)},e.next=5,Q(s(t,i));case 5:o=e.sent,c=[],u=(0,R.Z)(o);try{for(u.s();!(l=u.n()).done;)p=l.value,c.push(q(p,t,n))}catch(r){u.e(r)}finally{u.f()}return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=(0,Y.Z)(H().mark((function e(n,t){var r,a,i,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,"test"!==sessionStorage.getItem("mode")){e.next=8;break}if(""!==sessionStorage.getItem("key")){e.next=5;break}return e.abrupt("return");case 5:r="".concat(r,"&key=").concat(sessionStorage.getItem("key")),e.next=19;break;case 8:if(sessionStorage.getItem("access_token")){e.next=18;break}return e.next=11,(0,K.LP)();case 11:if(""!==(a=e.sent)){e.next=14;break}return e.abrupt("return");case 14:sessionStorage.setItem("access_token",a),r="".concat(r,"&access_token=").concat(sessionStorage.getItem("access_token")),e.next=19;break;case 18:r="".concat(r,"&access_token=").concat(sessionStorage.getItem("access_token"));case 19:return t&&(r+="&pageToken=".concat(t)),e.next=22,fetch(r);case 22:if(200!==(i=e.sent).status){e.next=36;break}return e.next=26,i.json();case 26:if(!(s=e.sent).nextPageToken){e.next=33;break}return e.t0=s.items,e.next=31,Q(n,s.nextPageToken);case 31:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 33:return e.abrupt("return",s.items);case 36:if("test"!==sessionStorage.getItem("mode")){e.next=40;break}alert("\ud574\ub2f9\uae30\ub2a5\uc740 \ud14c\uc2a4\ud2b8 \uacc4\uc815\uc5d0\uc11c\ub294 \uc0ac\uc6a9 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),e.next=46;break;case 40:if(403!==i.status&&401!==i.status){e.next=45;break}return sessionStorage.setItem("access_token",""),e.abrupt("return",Q(n,t));case 45:alert("\uc798\ubabb\ub41c \ud0a4\uc774\uac70\ub098 \ud574\ub2f9\ud0a4\uc758 api \ud560\ub2f9\ub7c9\uc744 \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.");case 46:throw new Error("request fail");case 47:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$=function(){var e=(0,Y.Z)(H().mark((function e(){var n,t,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={part:"snippet,contentDetails",mine:!0,maxResults:50},t=Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"),e.next=4,Q("https://www.googleapis.com/youtube/v3/playlists?".concat(t));case 4:return r=e.sent,e.abrupt("return",r.map((function(e){return{id:e.id,name:e.snippet.title,description:e.snippet.description,thumbnails:[e.snippet.thumbnails.default.url],itemCount:e.contentDetails.itemCount}})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,Y.Z)(H().mark((function e(n){var t,r,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={part:"snippet,contentDetails",id:n},r=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"),e.next=4,Q("https://www.googleapis.com/youtube/v3/playlists?".concat(r));case 4:return a=e.sent[0],e.abrupt("return",{id:a.id,name:a.snippet.title,description:a.snippet.description,thumbnails:a.snippet.thumbnails.default,itemCount:a.contentDetails.itemCount});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(e){if("http"===e.substring(0,4)){for(var n={},t=e.substring(e.indexOf("?")+1).split("&"),r=0;r<t.length;r++){var a=t[r].split("="),i=(0,u.Z)(a,2),s=i[0],o=i[1];n[s]=o}if(n.list)return{kind:Z.List,id:n.list};if(n.v)return{kind:Z.Music,id:n.v}}return{}},te=(0,w.cn)({key:"YTPlaylistRequestID",default:0}),re=(0,w.nZ)({key:"myYTPlaylist",get:function(){var e=(0,Y.Z)(H().mark((function e(n){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.get)(te),e.prev=2,e.next=5,$();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),console.error(e.t0),alert("\uc7ac\uc0dd\ubaa9\ub85d \uc815\ubcf4\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()}),ae=t(6471),ie="FormBox_wrapper__0PyvC",se="FormBox_formbox-item__hxEYK",oe="FormBox_formbox-item__label__Xtygm",ce="FormBox_formbox-item--readonly__mK08e",ue="FormBox_formbox__input__LwCyy",le="FormBox_formbox-actions__lhSz-",pe="FormBox_formbox-actions__button__gDrqG",de="FormBox_formbox-actions__button--white__6i3Lq";var fe=function(e){var n=e.formItems,t=e.closePopup,r=e.submit,a=e.name,i=e.children,s=(0,o.useRef)(null);return(0,p.jsxs)("form",{ref:s,className:ie,children:[(0,p.jsx)("h2",{children:a}),(0,p.jsx)("br",{}),n.map((function(e){return(0,p.jsxs)("div",{className:"".concat(se," ").concat(e.readonly&&ce),children:[(0,p.jsx)("div",{className:oe,children:(0,p.jsx)("label",{children:e.name})}),(0,p.jsx)("input",{className:ue,id:e.id,defaultValue:e.value,readOnly:e.readonly}),(0,p.jsx)("br",{})]},e.id)})),i?(0,p.jsx)("div",{children:i}):"",(0,p.jsxs)("div",{className:le,children:[(0,p.jsx)("div",{className:pe,onClick:t,children:"\ucde8\uc18c"}),(0,p.jsx)("div",{className:"".concat(de," ").concat(pe),onClick:function(e){if(e.preventDefault(),s.current){for(var t={},a=s.current.getElementsByTagName("input"),i=0;i<a.length;i++)if(t[n[i].id]=a[i].value.trim(),n[i].require&&!t[n[i].id])return;r(t)}},children:"\uc81c\ucd9c"})]})]})},me="FormBoxPlaylist_grid-container__VXysw",_e="FormBoxPlaylist_grid-item__ONbgq",ve=t(8209);var ye=function(e){var n=e.name,t=e.closePopup,r=e.submit,a=e.playlistInfos,i=(0,o.useState)({}),s=(0,u.Z)(i,2),c=s[0],l=s[1],d=[{id:"name",name:"\uc120\ud0dd\ud55c \uc7ac\uc0dd\ubaa9\ub85d",value:c.name,require:!0,readonly:!0}];return(0,p.jsxs)(fe,{formItems:d,name:n,closePopup:t,submit:function(){r(c)},children:[(0,p.jsx)("div",{className:me,children:a.map((function(e){return(0,p.jsx)("div",{className:_e,style:e.id===c.id?{background:"white"}:{},onClick:function(){l(e)},children:(0,p.jsx)("div",{children:(0,p.jsx)(ve.Z,{info:e,onClick:function(){}})})},e.id)}))}),(0,p.jsx)("br",{})]})};function he(e){var n=e.setModalOpen,t=(0,w.sJ)(b.PS),r=function(){n(!1)};return function(){switch(t.kind){case b.dY.CreatePlaylist:return(0,p.jsx)(ke,{kind:t.kind,closePopup:r,musicInfos:t.data});case b.dY.UpdatePlaylist:return(0,p.jsx)(ke,{kind:t.kind,closePopup:r,playlistInfo:t.data});case b.dY.ImportMyYTPlaylist:return(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(M.Z,{}),children:(0,p.jsx)(ge,{closePopup:r})});case b.dY.ImportYTPlaylistLink:return(0,p.jsx)(Pe,{closePopup:r});default:return(0,p.jsx)("div",{})}}()}var xe=function(){var e=(0,w.FV)(b.Zj),n=(0,u.Z)(e,2),t=n[0],r=n[1];return t?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"".concat(F),children:(0,p.jsx)(he,{setModalOpen:r})}),(0,p.jsx)("div",{className:"".concat(U),onClick:function(){return r(!1)}})]}):(0,p.jsx)("div",{})};function ge(e){var n=e.closePopup,t=(0,ae._o)(),r=(0,w.sJ)(re),a=function(){var e=(0,Y.Z)(H().mark((function e(a){var i,s,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.find((function(e){return e.id===a.id}))){e.next=3;break}throw"\ud574\ub2f9 \uc7ac\uc0dd\ubaa9\ub85d\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc74c!";case 3:return e.t0=i,e.next=6,J(a.id,Z.List);case 6:e.t1=e.sent,s={info:e.t0,items:e.t1},o={type:G.Do.CREATE,payload:s},t(o),n();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(ye,{name:"\ub098\uc758 \uc7ac\uc0dd\ubaa9\ub85d",closePopup:n,playlistInfos:r,submit:a})}function Pe(e){var n=e.closePopup,t=(0,ae._o)(),r=function(){var e=(0,Y.Z)(H().mark((function e(r){var a,i,s,o,c,u,l;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.url){e.next=3;break}return e.abrupt("return");case 3:if(i=ne(a),s=i.id,o=i.kind,s&&o===Z.List){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,ee(s);case 9:return c=e.sent,e.t0=c,e.next=13,J(c.id,Z.List);case 13:e.t1=e.sent,u={info:e.t0,items:e.t1},l={type:G.Do.CREATE,payload:u},t(l),e.next=23;break;case 19:e.prev=19,e.t2=e.catch(6),console.error(e.t2),alert("\uc7ac\uc0dd\ubaa9\ub85d\uc744 \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4");case 23:return e.prev=23,n(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,19,23,26]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(fe,{name:"\uc720\ud29c\ube0c \uc7ac\uc0dd\ubaa9\ub85d \uac00\uc838\uc624\uae30",formItems:[{id:"url",name:"\uc7ac\uc0dd\ubaa9\ub85d URL",value:"",require:!0}],closePopup:n,submit:r})}function ke(e){var n=e.closePopup,t=e.kind,r=e.playlistInfo,a=e.musicInfos,i=[{id:"name",name:"\uc81c\ubaa9",value:r?r.name:"",require:!0},{id:"description",name:"\uc124\uba85",value:r?r.description:""}],s=(0,ae._o)(),o=(0,b.sj)(),c=null!==r&&void 0!==r&&r.name?r.name:"\uc0c8 \uc7ac\uc0dd\ubaa9\ub85d";return(0,p.jsx)(fe,{name:c,formItems:i,closePopup:n,submit:function(e){var o={};r&&(o=(0,l.Z)({},r));var c,u=(0,R.Z)(i);try{for(u.s();!(c=u.n()).done;){var p=c.value;o[p.id]=e[p.id]}}catch(m){u.e(m)}finally{u.f()}var d=a?{info:o,items:a}:{info:o},f={type:t===b.dY.CreatePlaylist?G.Do.CREATE:G.Do.UPDATE,payload:d};s(f),n()},children:t===b.dY.CreatePlaylist?(0,p.jsxs)("button",{className:V,onClick:function(e){e.preventDefault(),o(e.target)},children:[(0,p.jsx)("span",{className:"material-icons",children:"add"}),"\uc720\ud29c\ube0c\uc5d0\uc11c \uac00\uc838\uc624\uae30"]}):""})}var be="Popup_wrapper__7RbVB",je="Popup_playlist__91+0s",we="OptionSelector_wrapper__7Kqty",Ne="OptionSelector_options__pSwxg",Ee="OptionSelector_options__icon__ZNEXf",Te="OptionSelector_options__text__5lEpj";var Ie=function(e){var n=e.options;return(0,p.jsx)("div",{className:we,children:n.map((function(e){return(0,p.jsxs)("div",{className:Ne,onClick:e.onClickHandler,children:[(0,p.jsx)("div",{className:Ee,children:(0,p.jsx)("span",{className:"material-icons",children:e.icon})}),(0,p.jsx)("div",{className:Te,children:e.name})]},e.name)}))})};function Se(e){var n=e.setOpen,t=e.info,r=function(){switch(t.kind){case b.eK.PlaylistOptions:if("string"===typeof t.data)return(0,p.jsx)(Me,{evTarget:t.target,setPopupOpen:n,playlistid:t.data});throw"playlistID is not valid can't render PlaylistOptions";case b.eK.MusicOptions:if((0,G.LS)(t.data))return(0,p.jsx)(Ze,{evTarget:t.target,setPopupOpen:n,musicInfos:t.data});throw"musicInfos is not valid can't render MusicOptions";case b.eK.SearchOptions:if(t.data.value)return(0,p.jsx)(Re,{setPopupOpen:n,textarea:t.data});throw"musicInfos is not valid can't render MusicOptions";case b.eK.SelectTgtPlaylist:if((0,G.LS)(t.data))return(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(M.Z,{}),children:(0,p.jsx)(Ce,{setPopupOpen:n,musicInfos:t.data})});throw"musicInfos is not valid can't render MusicOptions";case b.eK.YTOptions:return(0,p.jsx)(Ye,{setPopupOpen:n});case b.eK.PlaylistItemOptions:var e=t.data.playlistID,r=t.data.musicInfos;if(e&&r.length&&r[0].key)return(0,p.jsx)(Ae,{evTarget:t.target,setPopupOpen:n,playlistID:e,musicInfos:r});throw"playlistID is not valid can't render PlaylistItemOptions";default:return""}}();return(0,p.jsx)(p.Fragment,{children:r})}function De(e){var n=e.popupInfo,t=(0,o.useRef)(null),r=(0,b.nr)(),a=function(){r(n.key)};return(0,o.useEffect)((function(){var e=n.target;if(t.current&&e){var r=window,a=r.innerWidth,i=r.innerHeight,s=t.current,o=s.offsetWidth,c=s.offsetHeight,u=e.getBoundingClientRect(),l=u.left,p=u.top,d=u.bottom,f=a>=l+o?l:a-o,m=i>=d+c?d:p-c>=0?p-c:i-c;t.current.style.transform="translate(".concat(f,"px, ").concat(m,"px)"),t.current.style.visibility="initial"}}),[n.target]),(0,p.jsxs)("div",{className:"".concat(be),ref:t,style:{visibility:"hidden"},children:[(0,p.jsx)(Se,{info:n,setOpen:a}),(0,p.jsx)(f,{openState:[!0,a],wrapper:t})]})}var Le=function(){var e=(0,w.sJ)(b.jV);return(0,p.jsx)(p.Fragment,{children:e.map((function(e){return(0,p.jsx)(De,{popupInfo:e},e.key)}))})};function Ce(e){var n=e.musicInfos,t=e.setPopupOpen,r=(0,w.sJ)(ae.LM),a=(0,ae._o)(),i=(0,b.$C)(),s={id:"newPlaylist",name:"\uc0c8 \uc7ac\uc0dd\ubaa9\ub85d",description:"",thumbnails:["https://www.gstatic.com/youtube/media/ytm/images/pbg/create-playlist-@210.png"],itemCount:-1};return(0,p.jsx)("div",{className:je,children:(0,p.jsx)(ye,{name:"\uc7ac\uc0dd\ubaa9\ub85d\uc5d0 \ucd94\uac00",closePopup:function(){return t(!1)},playlistInfos:[s].concat((0,X.Z)(r)),submit:function(e){if(e.id===s.id)return i(b.dY.CreatePlaylist,n),void t(!1);if(!r.find((function(n){return n.id===e.id})))throw"\ud574\ub2f9 \uc7ac\uc0dd\ubaa9\ub85d\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc74c!";var o={type:G.Do.APPEND,payload:{info:{id:e.id},items:n}};a(o),t(!1)}})})}var Oe=function(e,n,t){var r=(0,ae.H4)(),a=(0,b.Mu)();return[{icon:"playlist_play",name:"\ub2e4\uc74c \uc74c\uc545\uc73c\ub85c \uc7ac\uc0dd",onClickHandler:function(){return function(e){var t={type:G.To.ADD_TO_NEXT,payload:e};r(t),n(!1)}(e)}},{icon:"queue_music",name:"\ubaa9\ub85d\uc5d0 \ucd94\uac00",onClickHandler:function(){return function(e){var t={type:G.To.APPEND_ITEMS,payload:e};r(t),n(!1)}(e)}},{icon:"playlist_add",name:"\uc7ac\uc0dd\ubaa9\ub85d\uc5d0 \ucd94\uac00",onClickHandler:function(){a(t,e)}}]},Ze=(0,o.memo)((function(e){var n=e.setPopupOpen,t=e.musicInfos,r=e.evTarget,a=Oe(t,n,r),i=(0,ae.H4)(),s=[].concat((0,X.Z)(a),[{icon:"remove_circle_outline",name:"\ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c",onClickHandler:function(){return function(e){var t={type:G.To.DELETE,payload:e};i(t),n(!1)}(t)}}]);return(0,p.jsx)(Ie,{options:s})})),Ae=(0,o.memo)((function(e){var n=e.setPopupOpen,t=e.evTarget,r=e.musicInfos,a=e.playlistID,i=Oe(r,n,t),s=(0,ae._o)(),o=[].concat((0,X.Z)(i),[{icon:"remove_circle_outline",name:"\uc7ac\uc0dd\ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c",onClickHandler:function(){return function(e){var t={type:G.Do.DELETE_ITEMS,payload:{id:a,items:e}};s(t),n(!1)}(r)}}]);return(0,p.jsx)(Ie,{options:o})})),Me=(0,o.memo)((function(e){var n=e.evTarget,t=e.setPopupOpen,r=e.playlistid,a=(0,ae._o)(),i=(0,ae.H4)(),s=(0,b.$C)(),o=(0,w.Fu)(),c=(0,b.Mu)(),u=function(){var e=(0,Y.Z)(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getPromise((0,ae.fc)(r));case 2:t=e.sent,c(n,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){return function(){e(r),t(!1)}},d=[{icon:"playlist_add",name:"\uc7ac\uc0dd\ubaa9\ub85d\uc5d0 \ucd94\uac00",onClickHandler:l(u)},{icon:"playlist_play",name:"\ub2e4\uc74c \uc74c\uc545\uc73c\ub85c \ucd94\uac00",onClickHandler:l((function(e){var n={type:G.To.ADD_TO_NEXT_PLAYLIST,payload:e};i(n)}))},{icon:"edit",name:"\uc7ac\uc0dd\ubaa9\ub85d \uc218\uc815",onClickHandler:l((function(e){s(b.dY.UpdatePlaylist,e)}))},{icon:"library_add_check",name:"\uc7ac\uc0dd\ubaa9\ub85d \uc0ad\uc81c",onClickHandler:l((function(e){a({type:G.Do.DELETE,payload:e})}))}];return(0,p.jsx)(Ie,{options:d})})),Re=(0,o.memo)((function(e){var n=e.setPopupOpen,t=e.textarea,r=(0,ae.H4)(),a=function(){var e=(0,Y.Z)(H().mark((function e(t,a){var i;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value){e.next=2;break}return e.abrupt("return");case 2:return a=a||G.To.APPEND_PLAYLIST,e.prev=3,e.next=6,W(t.value);case 6:if(!((i=e.sent).length<=0)){e.next=9;break}return e.abrupt("return");case 9:r({type:a,payload:i}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:return e.prev=16,n(!1),t.value="",e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[3,13,16,20]])})));return function(n,t){return e.apply(this,arguments)}}(),i=[{icon:"playlist_play",name:"\ub2e4\uc74c \uc74c\uc545\uc73c\ub85c \uc7ac\uc0dd",onClickHandler:function(){return a(t,G.To.ADD_TO_NEXT)}},{icon:"playlist_add",name:"\ubaa9\ub85d\uc5d0 \ucd94\uac00",onClickHandler:function(){return a(t,G.To.APPEND_ITEMS)}}];return(0,p.jsx)(Ie,{options:i})})),Ye=(0,o.memo)((function(e){var n=e.setPopupOpen,t=(0,b.$C)(),r=function(e){t(e),n(!1)},a=[{icon:"playlist_add",name:"\ub0b4 \uc7ac\uc0dd\ubaa9\ub85d \uac00\uc838\uc624\uae30",onClickHandler:function(){return r(b.dY.ImportMyYTPlaylist)}},{icon:"add_link",name:"\ub9c1\ud06c\uc5d0\uc11c \uac00\uc838\uc624\uae30",onClickHandler:function(){return r(b.dY.ImportYTPlaylistLink)}}];return(0,p.jsx)(Ie,{options:a})}));var Be=(0,w.cn)({key:"musiclistOpen",default:!1}),He="MusicPlayer_wrapper__jFlEQ",Ue="ProgressBar_wrapper__n5-AL",Fe="ProgressBar_progress-bar__k5Hah",Ve="ProgressBar_progress__R737O";var Ge=function(e){var n=e.progress,t=e.setProgress,r=(0,o.useRef)(null),a=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=setInterval((function(){var e=window.player;(null===e||void 0===e?void 0:e.getPlayerState())!==G.fL.PLAYING&&(null===e||void 0===e?void 0:e.getPlayerState())!==G.fL.PAUSED||t({currentTime:e.getCurrentTime(),duration:e.getDuration()})}),1e3);return function(){clearInterval(e)}}),[]),(0,o.useEffect)((function(){var e=n.currentTime/n.duration*100;r.current&&(r.current.style.width="".concat(e,"%"))}),[n]);var i=!0;return(0,p.jsxs)("div",{className:Ue,onClick:function(e){var t,r=e.clientX/(document.body.offsetWidth-12)*n.duration;null===(t=window.player)||void 0===t||t.seekTo(r)},onMouseMove:function(e){i&&(i=!1,requestAnimationFrame((function(){return function(e){if(i=!0,a.current){var t=document.body.offsetWidth-12,r=e/t*n.duration,s=Math.floor(r/60),o=Math.round(r%60),c=o>=10?"":"0";e=(e=e<10?10:e)>t-10?t-10:e,a.current.style.transform="translateX(".concat(e,"px"),a.current.textContent="".concat(s,":").concat(c).concat(o)}}(e.clientX)})))},children:[(0,p.jsx)("span",{ref:a,children:"4:38"}),(0,p.jsx)("div",{className:Fe,children:(0,p.jsx)("div",{ref:r,className:Ve})})]})};var Xe=function(){var e=(0,w.FV)(ae.Zd),n=(0,u.Z)(e,2),t=n[0],r=n[1];return(0,p.jsx)(Ge,{progress:t,setProgress:r})},Ke="SoundController_wrapper__kKDbN",qe="SoundController_volume-controller__EdrPA",We="SoundController_volume-controller__slider__pUPUO",Je="SoundController_volume-controller__bar__8bekN",ze="SoundController_mute-btn__79nnS";var Qe=function(){var e=(0,o.useRef)(null),n=(0,o.useState)(100),t=(0,u.Z)(n,2),r=t[0],a=t[1],i=(0,o.useState)(!1),s=(0,u.Z)(i,2),c=s[0],l=s[1],d=(0,o.useRef)(),f=function(){var e=window.player;e&&(r!==e.getVolume()&&a(e.getVolume()),c!==e.isMuted()&&l(e.isMuted()))};return(0,o.useEffect)((function(){d.current=f})),(0,o.useEffect)((function(){var e=setInterval((function(){d.current&&d.current()}),1e3);return function(){clearInterval(e)}}),[]),(0,o.useEffect)((function(){e.current&&(e.current.style.width="".concat(r,"%"))}),[r]),(0,p.jsxs)("div",{className:Ke,children:[(0,p.jsxs)("div",{className:qe,onClick:function(e){var n=window.player;if(n){var t=e.currentTarget.getBoundingClientRect(),r=t.left,i=t.width,s=Math.round(100*(e.clientX-r)/i);n.setVolume(s),a(s),n.isMuted()&&(n.unMute(),l(!1))}},children:[(0,p.jsx)("div",{className:We}),(0,p.jsx)("div",{className:Je,ref:e}),(0,p.jsx)("div",{className:We})]}),(0,p.jsx)("div",{className:ze,onClick:function(){l((function(e){return e?window.player.unMute():window.player.mute(),!e}))},children:(0,p.jsx)("span",{className:"material-icons",children:c?"volume_off":"volume_up"})})]})},$e=t(4790),en="PlayerController_wrapper__Ozfy5",nn="PlayerController_wrapper_controller__dh6dP",tn="PlayerController_right-control__5rzE0",rn="PlayerController_right-control__show-list-btn__hkxIa",an="PlayerController_right-control__show-list-btn--rot__yWndZ",sn="PlayerController_midle-control__Hpfh4",on="PlayerController_cur-music-info__FGYv0",cn="PlayerController_cur-music-info--secondary__9g-Ob",un="PlayerController_left-control__yc7lP",ln="PlayerController_play-pause-button__QJTtY",pn="PlayerController_previous-button__QW6Er",dn="PlayerController_next-button__Ckl12",fn="PlayerController_expand-menus__Khs3I",mn="PlayerController_expand-menus__menu__Z6iX8",_n="PlayerController_expand-menus__button__7BCfB";var vn=function(e){var n=(0,b.gU)();return(0,p.jsx)(p.Fragment,{children:e.musicInfo.name&&(0,p.jsxs)("div",{className:en,children:[(0,p.jsx)(Xe,{}),(0,p.jsxs)("div",{className:nn,children:[(0,p.jsxs)("div",{className:un,children:[(0,p.jsx)("div",{className:pn,onClick:e.goPrev,children:(0,p.jsx)("span",{className:"material-icons",children:"skip_previous"})}),(0,p.jsx)("div",{className:ln,onClick:e.togglePlayState,children:(0,p.jsx)("span",{className:"material-icons",children:e.isPlaying?"pause":"play_arrow"})}),(0,p.jsx)("div",{className:dn,onClick:e.goNext,children:(0,p.jsx)("span",{className:"material-icons",children:"skip_next"})})]}),(0,p.jsxs)("div",{className:sn,children:[(0,p.jsxs)("div",{className:on,children:[(0,p.jsx)("div",{title:e.musicInfo.name,children:e.musicInfo.name}),(0,p.jsx)("div",{className:cn,children:e.musicInfo.owner})]}),(0,p.jsx)($e.Z,{onClick:function(t){n(t.target,[e.musicInfo])},size:24})]}),(0,p.jsxs)("div",{className:tn,children:[(0,p.jsx)(yn,{}),(0,p.jsx)("div",{className:"".concat(rn," ").concat(!e.playerVisiblity&&an),onClick:e.togglePlayerVisiblity,children:(0,p.jsx)("span",{className:"material-icons",children:"arrow_drop_down"})})]})]})]})})};function yn(){return(0,p.jsxs)("div",{className:fn,children:[(0,p.jsx)("div",{className:_n,children:(0,p.jsx)("span",{className:"material-icons",children:"arrow_left"})}),(0,p.jsx)("div",{className:mn,children:(0,p.jsx)(Qe,{})})]})}var hn="PlayerDetail_player-detail__Y2wHN",xn="PlayerDetail_player__rItHw",gn="PlayerDetail_wrapper__xbKk1",Pn="PlayerDetail_wrapper--hide__HqMfz",kn="PlayerDetail_player-detail__hide__GwIuj",bn="PlayerDetail_menus__RzbHY",jn="PlayerDetail_menus-options__KG+WZ",wn="PlayerDetail_menus-options__button__LSsNz",Nn="PlayerDetail_music-list__EtuQB",En=(0,w.cn)({key:"ytPlayerInited",default:!1});var Tn=function(){var e=(0,w.FV)(En),n=(0,u.Z)(e,2),t=n[0],r=n[1],a=(0,w.Zl)(ae.cB),i=(0,ae.k_)(),s=(0,w.sJ)(ae.V2),c=(0,w.Zl)(ae.Zd),l=(0,o.useRef)();return(0,o.useEffect)((function(){var e=function(e){var n;" "===e.key&&((null===(n=window.player)||void 0===n?void 0:n.getPlayerState())===G.fL.PLAYING?window.player.pauseVideo():window.player.playVideo())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),(0,o.useEffect)((function(){if(!window.YT){var e,n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];null===(e=t.parentNode)||void 0===e||e.insertBefore(n,t),window.onYouTubeIframeAPIReady=function(){window.player=new window.YT.Player("player",{width:"100%",height:"100%",playerVars:{playsinline:1,autoplay:1},events:{onStateChange:function(e){if(e.data===window.YT.PlayerState.ENDED)c({duration:window.player.getDuration(),currentTime:window.player.getDuration()}),i({type:G.OR.NEXT});else if(e.data===window.YT.PlayerState.PLAYING){a(G.fL.PLAYING);var n={duration:window.player.getDuration(),currentTime:window.player.getCurrentTime()};c(n)}else e.data===window.YT.PlayerState.PAUSED&&a(G.fL.PAUSED)},onReady:function(){return r(!0)}}})}}}),[]),(0,o.useEffect)((function(){if(t){var e=window.player;s.query||s.videoID?e.getPlayerState()!==G.fL.ENDED&&l.current&&s.key===l.current.key&&s.videoID===l.current.videoID||(s.videoID?e.loadVideoById({videoId:s.videoID}):J(s.query,Z.Search).then((function(e){i({type:G.OR.SET_INFO,payload:e[0]})})).catch((function(e){console.error(e)})),l.current=s):e.stopVideo()}}),[s,t]),(0,p.jsx)("div",{id:"player"})},In=t(2426);var Sn=function(e){var n=e.items,t=(0,b.gU)(),r=(0,ae.H4)(),a=(0,ae.k_)();return(0,p.jsx)(In.Z,{items:n,playMusic:function(e){a({type:G.OR.SET_IDX,payload:e})},openOptionsPopup:t,changeOrder:function(e,n){r({type:G.To.CHANGE_ORDER,payload:{to:n,from:e}})}})};var Dn=function(e){var n=e.playerVisiblity,t=e.musicList,r=(0,b.Mu)(),a=(0,ae.H4)(),i=n&&t.length>0;return(0,p.jsx)("div",{className:"".concat(gn," ").concat(!i&&Pn),children:(0,p.jsxs)("div",{className:"".concat(hn," ").concat(!i&&kn),children:[(0,p.jsx)("div",{className:xn,children:(0,p.jsx)(Tn,{})}),(0,p.jsxs)("div",{className:bn,children:[(0,p.jsx)("div",{children:"\ub2e4\uc74c \ud2b8\ub799"}),(0,p.jsxs)("div",{className:jn,children:[(0,p.jsx)("div",{className:wn,onClick:function(e){r(e.target,t)},title:"\uc7ac\uc0dd\ubaa9\ub85d\uc5d0 \ucd94\uac00",children:(0,p.jsx)("span",{className:"material-icons md-32",children:"playlist_add"})}),(0,p.jsx)("div",{className:wn,onClick:function(e){a({type:G.To.DELETE,payload:t})},title:"\uc7ac\uc0dd\ubaa9\ub85d \ube44\uc6b0\uae30",children:(0,p.jsx)("span",{className:"material-icons md-32",children:"playlist_remove"})})]})]}),(0,p.jsx)("div",{className:Nn,children:(0,p.jsx)(Sn,{items:t})})]})})};var Ln=function(){var e=(0,w.FV)(Be),n=(0,u.Z)(e,2),t=n[0],r=n[1],a=(0,w.sJ)(ae.V2),i=(0,ae.k_)(),s=(0,w.sJ)(ae.cB),o=(0,w.sJ)(ae.Uu);return(0,p.jsxs)("div",{className:He,children:[(0,p.jsx)(vn,{musicInfo:a,playerVisiblity:t,togglePlayerVisiblity:function(){r(!t)},isPlaying:s===G.fL.PLAYING,goNext:function(){i({type:G.OR.NEXT})},goPrev:function(){i({type:G.OR.PREV})},togglePlayState:function(){(s===G.fL.PLAYING?G.fL.PAUSED:G.fL.PLAYING)===G.fL.PLAYING?window.player.playVideo():window.player.pauseVideo()}}),(0,p.jsx)(Dn,{musicList:o,playerVisiblity:t})]})},Cn=o.lazy((function(){return t.e(326).then(t.bind(t,9326))})),On=o.lazy((function(){return t.e(848).then(t.bind(t,1848))}));var Zn=function(){var e=(0,c.s0)(),n=(0,w.Zl)(Be);return(0,p.jsxs)("div",{children:[(0,p.jsxs)("header",{className:r,children:[(0,p.jsx)("div",{className:i,onClick:function(){n(!1),e("/")},children:(0,p.jsx)("span",{className:"material-icons md-32",children:"home"})}),(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)(j,{}),(0,p.jsx)(L,{})]}),(0,p.jsx)(A,{})]}),(0,p.jsx)("main",{children:(0,p.jsx)("div",{className:s,children:(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(M.Z,{}),children:(0,p.jsxs)(c.Z5,{children:[(0,p.jsx)(c.AW,{path:"*",element:(0,p.jsx)(Cn,{goToPlaylistPage:function(n){e("/playlist/".concat(n))}})}),(0,p.jsx)(c.AW,{path:"playlist/:id",element:(0,p.jsx)(On,{})})]})})})}),(0,p.jsx)(xe,{}),(0,p.jsx)(Le,{}),(0,p.jsx)(Ln,{})]})}},4311:function(e,n,t){t.d(n,{Zj:function(){return d},PS:function(){return f},eK:function(){return m},jV:function(){return y},dY:function(){return _},nr:function(){return x},gU:function(){return g},tt:function(){return P},sj:function(){return k},Mu:function(){return b},AZ:function(){return j},A7:function(){return w},$C:function(){return N}});var r,a=t(5861),i=t(3433),s=t(7757),o=t.n(s),c=t(62),u=t(6471),l=t(2537),p=t(2191),d=(0,c.cn)({key:"ModalOpen",default:!1}),f=(0,c.cn)({key:"ModalInfo",default:{}});!function(e){e[e.Playlist=0]="Playlist",e[e.SearchBar=1]="SearchBar"}(r||(r={}));var m;(0,c.cn)({key:"optionSelectorOpen",default:!1});!function(e){e[e.PlaylistOptions=0]="PlaylistOptions",e[e.MusicOptions=1]="MusicOptions",e[e.SelectTgtPlaylist=2]="SelectTgtPlaylist",e[e.SearchOptions=3]="SearchOptions",e[e.YTOptions=4]="YTOptions",e[e.PlaylistItemOptions=5]="PlaylistItemOptions"}(m||(m={}));var _,v=(0,c.cn)({key:"popupInfoState",default:[]}),y=(0,c.nZ)({key:"getPopupInfo",get:function(e){return(0,e.get)(v)}});(0,c.cn)({key:"popupOpen",default:!1});!function(e){e[e.CreatePlaylist=0]="CreatePlaylist",e[e.UpdatePlaylist=1]="UpdatePlaylist",e[e.ImportMyYTPlaylist=2]="ImportMyYTPlaylist",e[e.ImportYTPlaylistLink=3]="ImportYTPlaylistLink"}(_||(_={}));var h=function(){return(0,c._8)((function(e){var n=e.set;e.snapshot;return function(e,t,r){n(v,(function(n){return n.filter((function(n){return n.target===t&&n.kind===e})).length?n:[].concat((0,i.Z)(n),[{key:(0,p.Z)()[0],target:t,kind:e,data:r}])}))}}))},x=function(){return(0,c._8)((function(e){var n=e.set;return function(e){n(v,(function(n){return n.filter((function(n){return e!==n.key}))}))}}))},g=function(){var e=h();return function(n,t){return e(m.MusicOptions,n,t)}},P=function(){var e=h();return function(n,t,r){return e(m.PlaylistItemOptions,n,{playlistID:t,musicInfos:r})}},k=function(){var e=h();return function(n){return e(m.YTOptions,n)}},b=function(){var e=h();return function(n,t){return e(m.SelectTgtPlaylist,n,t)}},j=function(){var e=h();return function(n,t){return e(m.PlaylistOptions,n,t)}},w=function(){var e=h();return function(n,t){return e(m.SearchOptions,n,t)}},N=function(){return(0,c._8)((function(e){var n=e.set,t=e.snapshot;return function(){var e=(0,a.Z)(o().mark((function e(r,a){var i,s,c,p,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=e.t0===_.CreatePlaylist?3:e.t0===_.UpdatePlaylist?9:e.t0===_.ImportMyYTPlaylist?18:e.t0===_.ImportYTPlaylistLink?22:25;break;case 3:if(!a||(0,l.LS)(a)){e.next=5;break}throw"musicInfo is not valid";case 5:return i=a?{kind:_.CreatePlaylist,data:a}:{kind:_.CreatePlaylist},n(f,i),n(d,!0),e.abrupt("break",25);case 9:if("string"===typeof a){e.next=11;break}throw"playlist id is not string";case 11:return e.next=13,t.getPromise((0,u.Ln)(a));case 13:return s=e.sent,c={kind:_.UpdatePlaylist,data:s},n(f,c),n(d,!0),e.abrupt("break",25);case 18:return p={kind:_.ImportMyYTPlaylist},n(f,p),n(d,!0),e.abrupt("break",25);case 22:m={kind:_.ImportYTPlaylistLink},n(f,m),n(d,!0);case 25:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}))}},6471:function(e,n,t){t.d(n,{LW:function(){return L},V2:function(){return U},Uu:function(){return Y},Zd:function(){return D},cB:function(){return S},Ln:function(){return Z},LM:function(){return A},fc:function(){return R},k_:function(){return H},H4:function(){return B},_o:function(){return O}});var r=t(9439),a=t(3433),i=t(1413),s=t(5861),o=t(7757),c=t.n(o),u=t(62),l=t(8302),p=t(2191),d={id1:{id:"id1",name:"name",description:"description",items:[{name:"\uc88b\ub2e4\uace0 \ub9d0\ud574",owner:"BOL4 - Topic",query:"PLOV3S2JgYNUDSUG49R2rGn-hFSIN7eZDr",thumbnail:"https://i.ytimg.com/vi/RRwLiAGZfc0/default.jpg",videoID:"RRwLiAGZfc0",key:"1"},{key:"2",name:"\uccab\uc0ac\ub791",owner:"Busker Busker - Topic",query:"PLOV3S2JgYNUDSUG49R2rGn-hFSIN7eZDr",thumbnail:"https://i.ytimg.com/vi/_sQhN4dLC60/default.jpg",videoID:"_sQhN4dLC60"}]}},f=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","aasdfasfasdf");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(d).map((function(e){return e[1]})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d[n]);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d[n].items);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.id=(0,p.Z)()[0],d[n.id]=(0,i.Z)((0,i.Z)({},n),{},{items:t||[]}),e.abrupt("return",n.id);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d[n]){e.next=2;break}return e.abrupt("return",!1);case 2:return delete d[n],e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.info.id||!d[n.info.id]){e.next=7;break}return(t=(0,i.Z)({},d[n.info.id])).description=n.info.description?n.info.description:t.description,t.name=n.info.name?n.info.name:t.name,t.items=n.items?n.items:t.items,d[n.info.id]=t,e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k="TEST"==={NODE_ENV:"production",PUBLIC_URL:"/simple-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://asia-northeast3-simple-music-player-319201.cloudfunctions.net/main"}.MODE||"TEST"==={NODE_ENV:"production",PUBLIC_URL:"/simple-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://asia-northeast3-simple-music-player-319201.cloudfunctions.net/main"}.STORYBOOK_MODE?{getPlaylistInfos:m,getPlaylistInfo:_,getPlaylistItems:v,createPlaylist:y,deletePlaylist:h,updatePlaylist:x,getToken:f,checkAuth:g,doSignIn:P}:l.ZP,b=t(2537),j=k.getPlaylistInfo,w=k.getPlaylistItems,N=k.getPlaylistInfos,E=k.updatePlaylist,T=k.deletePlaylist,I=k.createPlaylist,S=(0,u.cn)({key:"musicPlayerState",default:b.fL.ENDED}),D=(0,u.cn)({key:"musicPlayerProgress",default:{duration:1,currentTime:0}}),L=(0,u.cn)({key:"curMusicIdx",default:0}),C=(0,u.cn)({key:"playlistIds",default:new Promise((function(e){N().then((function(n){var t=n.map((function(e){return e.id}));e(t)})).catch((function(n){e([])}))}))}),O=function(){return(0,u._8)((function(e){var n=e.set,t=e.reset,r=e.snapshot;return function(){var e=(0,s.Z)(c().mark((function e(a){var s,o,u,l,p,d,f,m,_,v,y,h,x,g,P,k,j,w,N,S,D,L,O,A,Y,B;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=b.Do.CREATE,o=b.Do.DELETE,u=b.Do.UPDATE,l=b.Do.APPEND,p=b.Do.DELETE_ITEMS,e.t0=a.type,e.next=e.t0===s?4:e.t0===o?10:e.t0===u?17:e.t0===p?26:e.t0===l?49:61;break;case 4:return d=r.getLoadable(C).contents,e.next=7,I(a.payload.info,a.payload.items);case 7:return(f=e.sent)&&n(C,d.concat(f)),e.abrupt("break",61);case 10:return m=a.payload,_=r.getLoadable(C).contents,e.next=14,T(m);case 14:return e.sent&&(v=_.filter((function(e){return e!==m})),n(C,v),t(R(m)),t(Z(m))),e.abrupt("break",61);case 17:if(a.payload.info&&a.payload.info.id){e.next=19;break}return e.abrupt("return");case 19:return y=a.payload.info.id,h=r.getLoadable(Z(y)).contents,e.next=23,E(a.payload);case 23:return e.sent&&(n(Z(y),(0,i.Z)((0,i.Z)({},h),a.payload.info)),a.payload.items&&n(R(y),a.payload.items)),e.abrupt("break",61);case 26:x=a.payload.items.reverse(),g=r.getLoadable(Z(a.payload.id)).contents,P=r.getLoadable(R(a.payload.id)).contents.slice(),k=[],j=0;case 31:if(!(j<P.length)){e.next=40;break}if(P[j].key!==x[x.length-1].key){e.next=37;break}if(k.push(j),1!==x.length){e.next=36;break}return e.abrupt("break",40);case 36:x.pop();case 37:j++,e.next=31;break;case 40:for(w=0,N=k;w<N.length;w++)S=N[w],P[S]={};for(D=0,L=0;L<P.length;L++)P[L].key&&(P[D++]=P[L]);for(O=0;O<x.length;O++)P.pop();return e.next=46,E({info:g,items:P});case 46:return e.sent&&n(R(a.payload.id),P),e.abrupt("break",61);case 49:if(a.payload.info&&a.payload.info.id&&a.payload.items){e.next=51;break}return e.abrupt("return");case 51:return A=a.payload.info.id,e.next=54,r.getPromise(R(A));case 54:return Y=e.sent,B=Y.concat(M(a.payload.items)),e.next=58,E({info:a.payload.info,items:B});case 58:return e.sent&&(n(R(A),B),alert("\ucd94\uac00 \uc131\uacf5!")),e.abrupt("break",61);case 61:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}))},Z=(0,u.xu)({key:"playlistInfoFamily",default:function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}()}),A=(0,u.nZ)({key:"playlistInfos",get:function(){var e=(0,s.Z)(c().mark((function e(n){var t,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.get,r=t(C),a=r.map((function(e){return t(Z(e))})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),M=function(e){var n=(0,p.Z)(e.length);return e.map((function(e,t){return(0,i.Z)((0,i.Z)({},e),{},{key:n[t]})}))},R=(0,u.xu)({key:"playlistItems",default:function(){var e=(0,s.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n);case 3:return t=e.sent,e.abrupt("return",M(t));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()}),Y=(0,u.cn)({key:"musicList_",default:[]}),B=function(){var e=(0,u.kJ)((function(e){var n=e.set;return function(e,t){n(Y,e),n(L,t)}}));return(0,u._8)((function(n){var t=n.set,i=(n.reset,n.snapshot);return function(){var n=(0,s.Z)(c().mark((function n(s){var o,u,l,p,d,f,m,_,v,y,h,x,g,P,k,j,w,N,E,T,I,S,D,C,O,Z,A,B,H,U,F,V,G,X;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=s.type,n.next=n.t0===b.To.LOAD_PLAYLIST?3:n.t0===b.To.APPEND_PLAYLIST?8:n.t0===b.To.ADD_TO_NEXT_PLAYLIST?16:n.t0===b.To.APPEND_ITEMS?32:n.t0===b.To.ADD_TO_NEXT?38:n.t0===b.To.DELETE?48:n.t0===b.To.CHANGE_ORDER?64:79;break;case 3:return n.next=5,i.getPromise(R(s.payload));case 5:return o=n.sent,e(M(o),0),n.abrupt("break",80);case 8:return n.next=10,i.getPromise(Y);case 10:return u=n.sent,n.next=13,i.getPromise(R(s.payload));case 13:return l=n.sent,t(Y,u.concat(l)),n.abrupt("break",80);case 16:return p=i.retain(),n.prev=17,n.next=20,i.getPromise(Y);case 20:return d=n.sent,n.next=23,i.getPromise(R(s.payload));case 23:return f=n.sent,n.next=26,i.getPromise(L);case 26:m=n.sent,t(Y,d.length>0?[].concat((0,a.Z)(d.slice(0,m+1)),(0,a.Z)(f),(0,a.Z)(d.slice(m+1))):f);case 28:return n.prev=28,p(),n.finish(28);case 31:return n.abrupt("break",80);case 32:return n.next=34,i.getPromise(Y);case 34:return _=n.sent,t(Y,_.concat(M(s.payload))),0===_.length&&t(L,0),n.abrupt("break",80);case 38:return n.next=40,i.getPromise(Y);case 40:return v=n.sent,n.next=43,i.getPromise(L);case 43:return y=n.sent,h=M(s.payload),t(Y,v.length>0?[].concat((0,a.Z)(v.slice(0,y+1)),(0,a.Z)(h),(0,a.Z)(v.slice(y+1))):h),0===v.length&&t(L,0),n.abrupt("break",80);case 48:return n.next=50,i.getPromise(L);case 50:return x=n.sent,g=new Set(s.payload.map((function(e){return e.key}))),n.next=54,i.getPromise(Y);case 54:for(P=n.sent.slice(),k=[],j=0;j<P.length;j++)g.has(P[j].key)&&k.push(j);for(w=0,N=k;w<N.length;w++)E=N[w],P[E]={};for(T=0,I=-1,S=0;S<P.length;S++)S===x&&(I=T),P[S].key&&(P[T++]=P[S]);for(D=0;D<k.length;D++)P.pop();return x!==I?e(P,I):t(Y,P),n.abrupt("break",80);case 64:return n.next=66,i.getPromise(Y);case 66:return C=n.sent,n.next=69,i.getPromise(L);case 69:return O=n.sent,Z=s.payload,A=Z.to,B=Z.from,H=Array.from(C),U=H.splice(B,1),F=(0,r.Z)(U,1),V=F[0],H.splice(A,0,V),G=O>B&&O<=A,X=O<B&&O>=A,O===B?e(H,A):G&&O-1>=0?e(H,O-1):X&&O+1<C.length?e(H,O+1):t(Y,H),n.abrupt("break",80);case 79:return n.abrupt("break",80);case 80:case"end":return n.stop()}}),n,null,[[17,,28,31]])})));return function(e){return n.apply(this,arguments)}}()}))},H=function(){var e=(0,u.kJ)((function(e){var n=e.set;return function(e,t){n(Y,e),n(L,t)}}));return(0,u._8)((function(n){var t=n.set,r=n.snapshot;return function(){var n=(0,s.Z)(c().mark((function n(s){var o,u,l,p,d,f,m,_,v,y,h;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=r.getLoadable(Y).contents,u=r.getLoadable(L).contents,l=b.OR.NEXT,p=b.OR.PREV,d=b.OR.SET_INFO,f=b.OR.SET_IDX,m=b.OR.SET,n.t0=s.type,n.next=n.t0===l?6:n.t0===p?8:n.t0===m?10:n.t0===f?14:n.t0===d?19:22;break;case 6:return u+1<o.length&&t(L,u+1),n.abrupt("break",23);case 8:return u-1>=0&&t(L,u-1),n.abrupt("break",23);case 10:return _=s.payload.list,v=s.payload.idx,e(_,v),n.abrupt("break",23);case 14:if("number"===typeof s.payload){n.next=16;break}return n.abrupt("break",23);case 16:return 0<=(y=s.payload)&&y<o.length&&t(L,s.payload),n.abrupt("break",23);case 19:return h=s.payload,t(Y,[].concat((0,a.Z)(o.slice(0,u)),[(0,i.Z)((0,i.Z)({},o[u]),h)],(0,a.Z)(o.slice(u+1)))),n.abrupt("break",23);case 22:throw"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc561\uc158\ud0c0\uc785";case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}))},U=(0,u.nZ)({key:"curMusicInfoState",get:function(e){var n=e.get,t=n(Y),r=n(L);return 0!==t.length&&t[r]?t[r]:{}}})},2537:function(e,n,t){var r,a,i,s;function o(e){if(Array.isArray(e)){var n=!0;if(e.forEach((function(e){(function(e){var n=e;return!!n.name&&(!!n.query||!!n.videoID)})(e)||(n=!1)})),n||e.length<=0)return!0}return!1}t.d(n,{LS:function(){return o},OR:function(){return a},To:function(){return i},Do:function(){return s},fL:function(){return c}}),function(e){e.Music="Music",e.Query="Query"}(r||(r={})),function(e){e[e.NEXT=0]="NEXT",e[e.PREV=1]="PREV",e[e.SET_IDX=2]="SET_IDX",e[e.SET_INFO=3]="SET_INFO",e[e.SET=4]="SET"}(a||(a={})),function(e){e[e.LOAD_PLAYLIST=0]="LOAD_PLAYLIST",e[e.APPEND_PLAYLIST=1]="APPEND_PLAYLIST",e[e.APPEND_ITEMS=2]="APPEND_ITEMS",e[e.DELETE=3]="DELETE",e[e.CHANGE_ORDER=4]="CHANGE_ORDER",e[e.ADD_TO_NEXT=5]="ADD_TO_NEXT",e[e.ADD_TO_NEXT_PLAYLIST=6]="ADD_TO_NEXT_PLAYLIST"}(i||(i={})),function(e){e[e.CREATE=0]="CREATE",e[e.DELETE=1]="DELETE",e[e.UPDATE=2]="UPDATE",e[e.APPEND=3]="APPEND",e[e.DELETE_ITEMS=4]="DELETE_ITEMS"}(s||(s={}));var c;r.Music;!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED"}(c||(c={}))},2191:function(e,n,t){function r(e){var n=0;e||(e=1);var t=Date.now();return new Array(e).fill(null).map((function(e,r){return t+"_"+n++}))}t.d(n,{Z:function(){return r}})}}]);